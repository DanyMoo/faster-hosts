{"version":3,"file":"main.f1be0297fb6370c65bf9.hot-update.js","sources":["/Users/eleme/Desktop/workspace/FasterHosts/my-app/src/popup/components/SideMenu/index.tsx"],"sourcesContent":["import { Switch } from 'antd';\nimport React, { useState, useEffect } from 'react'\nimport useStorage from '../../hooks/useStorage';\nimport editorIcon from '../../images/editor.png'\nimport { USING_HOSTS_ID } from '../../../const'\n\nimport './style.css'\n\nexport interface MenuItem {\n  title?: string;\n  id?: string;\n}\n\ninterface SideMenuProps {\n  list: MenuItem[];\n  id?: string;\n  onChange?: (value: MenuItem) => void;\n  onEditor?: (item?: MenuItem) => void;\n}\n\nconst SideMenu: React.FC<SideMenuProps> = (props) => {\n  const { list, id, onChange, onEditor } = props;\n\n  const { storage: usingHostsId } = useStorage(USING_HOSTS_ID)\n\n  const handleClick = (newValue?: MenuItem) => {\n    if (id !== newValue?.id) {\n      newValue && onChange?.(newValue)\n    }\n  }\n\n  const handleEditor = (current: MenuItem) => {\n    onEditor?.(current)\n  }\n\n  const handleUsingChange = (checked: boolean, item: MenuItem) => {\n    const usingId = checked ? item.id : '_null_using_id_'\n    chrome.storage.sync.set({ [USING_HOSTS_ID]: usingId })\n  }\n\n  useEffect(() => {\n\n  }, [])\n\n  return (\n    <ul className=\"side_menu\">\n      {list.map(item => {\n        const selected = id === item.id\n        return (\n          <li onClick={() => handleClick(item)} className={`${selected ? 'side_menu_item__selected' : null} side_menu_item`} key={item.id}>\n            <span>{item.title}</span>\n            <div>\n              {selected && (\n                <div>\n                  <Switch checked={usingHostsId === item.id} onChange={(checked: boolean) => handleUsingChange(checked, item)} size=\"small\" />\n                  <img onClick={() => handleEditor(item)} className=\"side_menu_item_editor\" src={editorIcon} alt=\"editor\" />\n                </div>\n              )}\n            </div>\n          </li>\n        )\n      })}\n    </ul>\n  )\n}\n\nexport default SideMenu\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;;;AAcA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAYA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AA7CA;AAGA;;;AAHA;AA8CA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}